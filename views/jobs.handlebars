<!-- JOBS.HANDLEBARS -->

<div class="container mx-auto px-4 py-20">
  <!-- Search Title -->
  {{#if search}}
    <h2 class="text-3xl font-bold mb-6">
      Showing jobs that contain: {{search}}
    </h2>
  {{else}}
    <h2 class="text-3xl font-bold mb-6">
      Our Featured Jobs
    </h2>
  {{/if}}

  <!-- Search Form -->
  <form 
    class="flex flex-col sm:flex-row gap-4 mb-12 max-w-2xl" 
    action="/jobs" 
    method="GET"
  >
    <input 
      type="text" 
      name="job" 
      placeholder="Type the job you are looking for" 
      class="flex-1 bg-gray-800 text-gray-100 rounded px-4 py-2
             placeholder-gray-400 outline-none" 
    />
    <button 
      type="submit" 
      class="bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded transition"
    >
      Search
    </button>
  </form>

  <!-- Jobs List -->
  <ul class="space-y-6">
    {{#each jobs}}
      <li 
        class="relative bg-gray-800 p-6 rounded flex flex-col
               md:flex-row md:items-center gap-4
               hover:shadow-md hover:shadow-black/40 transition"
      >
        <!-- Company Icon -->
        <img
          src="/img/company.svg"
          alt="Company"
          class="w-16 h-16 object-contain"
        />

        <div class="flex-1">
          <p class="text-gray-400 text-sm mb-1">
            {{this.dataValues.company}}
          </p>
          <h2 class="text-xl font-bold mb-1">
            {{this.dataValues.title}}
          </h2>
          <p class="text-gray-400 font-semibold mb-2">
            ${{this.dataValues.salary}}
          </p>
        </div>

        {{#if this.dataValues.new_job}}
          <span 
            class="absolute top-4 right-4 bg-yellow-300 
                   text-gray-800 text-xs font-bold 
                   py-1 px-2 rounded"
          >
            New
          </span>
        {{/if}}

        <a
          href="/jobs/view/{{this.dataValues.id}}"
          class="bg-blue-600 hover:bg-blue-500 text-white 
                 font-semibold py-2 px-4 rounded transition self-end md:self-center"
        >
          View job
        </a>
      </li>
    {{/each}}
  </ul>
</div>